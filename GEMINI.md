# AI Code Review Agent プロジェクト概要

## プロジェクト目標

GitHubリポジトリでのコードレビューを自動化し、開発者への通知まで一貫して行うAIエージェントの開発。段階的な実装により、確実で拡張性の高いシステムを構築する。

## 最終的な機能イメージ

1. GitHubプルリクエストの自動検知・レビュー実行
2. コミットメッセージの特定文言によるプルリク自動作成
3. レビュー完了後のTeams/Slack通知
4. 設定ファイルベースの柔軟な運用管理

## 技術スタック

### 開発環境
- **言語**: Python
- **フレームワーク**: FastAPI（Webhook処理用）
- **AI連携**: LangChain + Azure OpenAI
- **コンテナ**: Docker + docker-compose

### 外部API連携
- GitHub API（Webhook、プルリク操作）
- Azure OpenAI API（コードレビュー処理）
- Microsoft Teams API（通知）

## 開発フェーズ

### フェーズ1: 基盤構築・基本レビュー機能
**目標**: プルリクエストの自動検知とAIレビュー機能の実装

#### 主要機能
- GitHub Webhookの受信・処理基盤
- プルリクエスト検知（新規作成・更新）
- Azure OpenAI + LangChainによるコードレビュー
- プルリクエストへのレビューコメント投稿
- 設定ファイルベースの基本設定管理

#### 技術実装
- FastAPIでのWebhookエンドポイント
- LangChainのプロンプトテンプレート設計
- GitHub App認証の実装
- 基本的なログ機能・エラーハンドリング

#### 成果物
- コンテナ化されたレビューエージェント
- 設定ファイル（YAML/JSON）
- 基本的なレビューコメント機能

### フェーズ2: 通知機能拡張
**目標**: レビュー完了後の自動通知システム構築

#### 主要機能
- メールアドレス→Teams/Slackアカウント紐付け
- レビュー完了通知の送信
- 通知テンプレートのカスタマイズ機能
- 通知失敗時のフォールバック機能

#### 技術実装
- Microsoft Teams API連携
- 通知システムの汎用化設計
- 設定ファイル拡張（ユーザー紐付け情報）
- 非同期処理による通知送信

#### 成果物
- 通知機能付きレビューエージェント
- ユーザー紐付け設定
- 通知テンプレート機能

### フェーズ3: 自動プルリク作成
**目標**: コミットメッセージベースの自動プルリク作成機能

#### 主要機能
- コミットメッセージの解析（特定文言検知）
- プルリクエスト自動作成
- ブランチ指定フォーマットの対応
- 作成されたプルリクの自動レビュー連携

#### 技術実装
- GitHub push event処理
- コミットメッセージパーサー
- プルリクエスト作成API実装
- 既存レビューシステムとの連携

#### 成果物
- フルスタック自動化エージェント
- コミットメッセージフォーマット仕様
- 完全自動化されたコードレビューフロー

## 設計原則

### 拡張性
- 設定ファイルベースの柔軟な設定管理
- モジュール化された機能設計
- 段階的な機能追加が可能な構造

### 信頼性
- 適切なエラーハンドリング
- フォールバック機能の実装
- 段階的テスト・検証

### セキュリティ
- GitHub App認証の活用
- APIキーの環境変数管理
- 最小権限の原則

## 想定される課題と対策

### 技術的課題
- **処理時間**: 非同期処理、適切なタイムアウト設定